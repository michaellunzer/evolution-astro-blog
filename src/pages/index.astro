---
import { getCollection } from 'astro:content';
import BaseLayout from '../layouts/BaseLayout.astro';
import PostCard from '../components/PostCard.astro';
import Pagination from '../components/Pagination.astro';

import { Image } from 'astro:assets';
import quote1 from '/src/images/quote1.jpg';

const allPosts = await getCollection('posts');
allPosts.sort((a, b) => new Date(b.data.pubDate).valueOf() - new Date(a.data.pubDate).valueOf());

const postsPerPage = 15;
const firstPagePosts = allPosts.slice(0, postsPerPage);
const totalPages = Math.ceil(allPosts.length / postsPerPage);
---

<BaseLayout>

  <div class='flex items-center'>
    <Image src={quote1} class='postcard-content-special center' alt="a quote"/>
    <!-- <img src='/src/images/quote1.jpg' class='postcard-content-special center' /> -->
  </div>

  <!-- <div class='flex justify-between items-center p-2'>
    <div class='flex'>
      <a href='/' class='px-4  rounded py-2 hover:bg-neutral-200 dark:hover:bg-neutral-600'>Home</a>
      <a href='/category/One/1' class='px-4 py-2 rounded hover:bg-neutral-200 dark:hover:bg-neutral-600'>One</a>
      <a href='/category/Two/1' class='px-4 py-2 rounded hover:bg-neutral-200 dark:hover:bg-neutral-600'>Two</a>
      <a href='/category/Three/1' class='px-4 py-2 rounded hover:bg-neutral-200 dark:hover:bg-neutral-600'>Three</a>
      <a href='/category/Four/1' class='px-4 py-2 rounded hover:bg-neutral-200 dark:hover:bg-neutral-600'>Four</a>
      <a href='/category/Five/1' class='px-4 py-2 rounded hover:bg-neutral-200 dark:hover:bg-neutral-600'>Five</a>
      <a href='/category/Six/1' class='px-4 py-2 rounded hover:bg-neutral-200 dark:hover:bg-neutral-600'>Six</a>
    </div>
  </div> -->


  <!-- <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-2 gap-4 mt-4 mb-4">
    {firstPagePosts.slice(1, 3).map((post) => (
      <PostCard 
        post={post} 
        isSpecialCard={false} 
      />
    ))}
  </div>

  <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-2 gap-4 mt-4 mb-4">
    {firstPagePosts.slice(1, 3).map((post) => (
      <PostCard 
        post={post} 
      />
    ))}
  </div>

<div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4">
    {firstPagePosts.slice(3).map((post) => (
      <PostCard 
        post={post} 
      />
    ))}
  </div> -->

  <!-- <Pagination
    currentPage={1}
    lastPage={totalPages}
    urlPrev={null}
    urlNext={`/page/2`}
  /> -->
</BaseLayout>

